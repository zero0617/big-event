import{_ as y}from"./PageContainer-I8IiUcI9.js";import{a as E,r as u,o as s,c as i,b as a,d as t,z as x,e as r,f as p,bK as w,E as B,C as b,aU as _,bL as A}from"./index-C1WUM8Jt.js";import{_ as C,a as R}from"./_plugin-vue_export-helper-CSHEANhK.js";import{E as h}from"./el-progress-DnoQqNnK.js";import{E as z}from"./el-overlay-BBXLKL9-.js";import"./el-message-CKx2G1nz.js";import"./isEqual-BA52K4Ox.js";const S=["src"],T={__name:"UserAvatar",setup(F){const{user:{user_pic:d},getUser:f}=E(),o=u(d),n=u(null),m=l=>{const e=new FileReader;e.readAsDataURL(l.raw),e.onload=()=>{o.value=e.result}},v=async()=>{await z.confirm("是否上传头像？","温馨提示",{type:"wraning",confirmButtonText:"确认",cancelBottonText:"取消"}),await w(o.value),f(),B.success("上传成功")};return(l,e)=>{const g=b,U=h,c=R,k=y;return s(),i(k,{title:"更换头像"},{default:a(()=>[t(U,{class:"avatar-uploader","auto-upload":!1,"show-file-list":!1,"on-change":m,ref_key:"uploadRef",ref:n},{default:a(()=>[o.value?(s(),x("img",{key:0,src:o.value,class:"avatar"},null,8,S)):(s(),i(g,{key:1,class:"avatar-uploader-icon"},{default:a(()=>[t(r(_))]),_:1}))]),_:1},512),t(c,{type:"primary",icon:r(_),onClick:e[0]||(e[0]=I=>n.value.$el.querySelector("input").click()),size:"large"},{default:a(()=>[p("选择图片")]),_:1},8,["icon"]),t(c,{type:"success",icon:r(A),onClick:v,size:"large"},{default:a(()=>[p("上传头像")]),_:1},8,["icon"])]),_:1})}}},K=C(T,[["__scopeId","data-v-1219b102"]]);export{K as default};
